[TOC]



# 弗洛伊德转圈算法

## 1.判断环

#### 1.1 严谨算法分析

<img src="https://s2.loli.net/2025/04/23/FSErQzplXuwHaBe.png" alt="image.png" style="zoom: 80%;" />

  数学分析：

- 进入环前的节点数为 *a*。
- 环的节点数为 *b*。

  当 `slow` 进入环时，`fast` 已经在环内，距离 `slow` 为 *d*（0≤*d*<*b*）。

- `fast` 每次比 `slow` 多走 1 步，相当于 `fast` 以 **相对速度 1** 追赶 `slow`。

- 最多需要 *b*−*d* 步即可相遇。

  

   时间复杂度：

- 最坏情况下，`slow` 走 *a*+*b* 步，`fast` 走 2(*a*+*b*) 步。
- 由于 a+b≤n，时间复杂度为：

$$
T(n)=O(n)
$$

​    空间复杂度为：
$$
S(n)=O(1)
$$


  

 数学证明：

设：

- `slow` 移动 *k* 步后进入环，此时 `fast` 已经移动 2*k* 步。
- 环的长度为 b*，此时 `fast` 在环中的位置为 (2*k*−*a*)mod*b*。
- `fast` 和 `slow` 的相对速度是 1 步/单位时间，因此它们一定会在 *b*−*d* 步后相遇。 快指针追慢指针。

**结论**：

- 如果链表有环，快慢指针一定会在 O*(*n*) 时间内相遇。

- 如果 `fast` 到达 `null`，则链表无环。

  

#### 1.2 (x)笼统算法分析

  <img src="https://s2.loli.net/2025/04/23/BPwvpJdxm9si1AG.png" alt="image.png" style="zoom: 80%;" />

总共有N个节点。

假设，slow - fast = N

slow + 1 - (fast + 2)=N - 1

移动N次后，

slow + N - (fast + 2N)=N-N=0

快慢指针必定相遇。

解释的太笼统！！！！！！！！！！！

## 2.找入口点