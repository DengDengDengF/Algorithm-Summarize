[TOC]



### 1.队列

```js
let head=null;
let tail=head;
const structure=()=> {return {val:null,next:null}};

function  push(item){
     if(!head){
          head=structure();
          head.val=item;
          tail=head;
     }else{
          tail.next=structure();
          tail.next.val=item;
          tail=tail.next;
     }
}
function pop(){
    let popValue=null;
    if (head) {
        popValue=head;
        head = head.next;
    }
    return popValue;
}

```

### 2.双向队列

```js
let head = null;
let tail = null;
const structure = () => {
    return {val: null, next: null, parent: null}
};

//添加元素到队尾
function offerLast(item) {
    if (!head) {
        head = structure();
        head.val = item;
        tail = head;
    } else {
        tail.next = structure();
        tail.next.val = item;
        tail.next.parent = tail;
        tail = tail.next;
    }
}

//取队首元素并删除
function pollFirst() {
    let popValue = head;
    if (head) {
        if (head.next) head.next.parent = null;
        head = head.next;
        if (!head) tail = head;
    }
    return popValue;
}

//添加元素到队首
function offerFirst(item) {
    if (!head) {
        head = structure();
        head.val = item;
        tail = head;
    } else {
        let temp = head;
        head = structure();
        head.val = item;
        head.next = temp;
        temp.parent = head;
    }
}

//取队尾元素并删除
function pollLast() {
    let popValue = tail;
    if (tail) {
        let parent = tail.parent;
        if (parent) {
            parent.next = null;
        } else {
            head = parent;
        }
        tail = parent;
    }
    return popValue;
}
```

### 3.Josephus问题

![IMG_0712.jpeg](https://s2.loli.net/2025/11/19/qdoy6FX5OnatZjp.jpg)

```  js
queue.enqueue(queue.dequeue()) //移动M-1次，让被杀的永远在队列头部
如果 N = 7 , M = 2
0->1->2->3->4->5->6
   1->2->3->4->5->6->0  1出去
         3->4->5->6->0->2  3出去
                ...............
                               6      6出去
```

